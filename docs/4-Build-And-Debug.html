<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<!-- Useful for tablet and mobile based browsing-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Title of the page (not necessarily the lab) - for reference only, not displayed on the page-->
	<title>Build And Debug</title>
	<!-- CSS template stylesheet must be linked here-->
	<link href="css/renesas_layout_style.css" rel="stylesheet" type="text/css">
	<!-- Javascript based lab templating helper must be placed here-->
	<script type="text/javascript" src="js/lab-templater.js"></script>
</head>

<body>
	<!-- Populate the page header (banner, title & navigation menu)-->
	<script>lab_templater.Generate_header();</script>

	<!-- Begin the main content of the page-->
	<div class="main-content">

		<!-- Page/Section Summary & Description-->
		<summary>4. Build &amp; Debug</summary>
		<p>
			Here we will guide you through debugging this lab project and will provide details on how to verify the
			working on the project.
		</p>

		<!-- Start adding "details" sections for lab steps-->

		<details open>
			<summary>4.1 Build the project</summary>
			<p>To build the project please <b>[Right-Click]</b> the project and click <b>Build Project</b>.</p>
			<img class="modal-thumbnails" src="img/img_lab/build.gif" alt="">
		</details>

		<details>
			<summary>4.2 Hardware</summary>
			<p>
				Before debugging the project, please ensure headers are fitted to the header <b>H1</b> in positions 1-2
				(VBATT-VDD) &amp; 4-5 (VDD_RL78 - VDD).<br>
				Finally, connect the E2-Lite - the user does not need to connect batteries for this lab as we will supply
				the board via the debugger.
			</p>
			<img class="modal-thumbnails" src="img/img_lab/headers.png" alt="">
			<img class="modal-thumbnails" src="img/img_lab/e2lite.png" alt="">
		</details>

		<details>
			<summary>4.3 Debugging the project</summary>
			<p>
				To start a debug session please select the project by clicking on it and clicking the debug icon along the
				menu bar.
			</p>
			<img class="modal-thumbnails" src="img/img_lab/projectdebug.gif" alt="">
			<p>
				Finally, Click the <b>run</b> icon, first, it will run to main, click the <b>run</b> icon again and the project should start running.
			</p>
			<img class="modal-thumbnails" src="img/img_lab/projectrun.gif" alt="">
		</details>

		<details>
			<summary>4.4 Operating project</summary>
			<p>
				Now the project is running you can cycle through the different output states.<br>
				<ul>
					<li>
						You can set the name and password for the WiFi. The blue box in the following image indicates the Wi-Fi name and the green highlighted field indicates the passcode.<br>
						<img class="modal-thumbnails" src="img/img_lab/wifi_setup.PNG" alt="">
					</li>
					<li>
						Connect your laptop to the WiFi you created.<br>
						<img class="modal-thumbnails" src="img/img_lab/Wifi_connection.PNG" alt="">
					</li>
					<li>
						Click the link <a target="_blank" href="http://192.168.10.2/index.html">Webpage</a> and that will take you to the webpage you have created.<br>
						<img class="modal-thumbnails" src="img/img_lab/Webpage_output.PNG" alt="">
					</li>
					<li>
						You can test this by placing your hand on the sensor making it give a false fluctuation in sensor values.<br>
						<img class="modal-thumbnails" src="img/img_lab/website_update.gif" alt="">
					</li>
				</ul>
			</p>
		</details>

		<details>
			<summary>4.5 Restoring To It's Old Glory Step (OPTIONAL)</summary>
			<p>
				Now that the project is successfully executed, the new project is programmed into the hardware. You can keep the current project running and it will constantly host the webpage as if you want to go back to the previous version of the board with the sensors' value updated on the display, follow the instructions in this step.<br>
				To acquire the free flash file of the project that the board came with, please click <a href="dl/Restore_version.zip" download>here</a> to download &amp; extract the contents of the .zip archive to your desired location.<br><br>
				<ol>
					<li>
						Open Renesas Flash Programmer. Click on File->New Project. This will open up new project dialog, make the following selection inside.<br>
						<b>Microcontroller: </b>RL78/G2x<br>
						<b>Project Name: </b><i>Anything suitable</i><br>
						<b>Project Folder: </b><i>Anything suitable</i><br>
						<b>Tool: </b>E2 Emulator Lite<br>
						Now, Click on Tool Detail and Select 3.3V. Check that the project is not running in e2 studio adn hit Connect.<br>
						<img class="modal-thumbnails" src="img/img_lab/Flash_create_project.gif" alt="">
					</li>
					<li>
						Unzip the downloaded folder and store <b>RL78G23_IAQ_DEMO.mot</b> binary file to a desried location. Now,add this location as the program file by clicking on browse button as shown below.<br>
						<img class="modal-thumbnails" src="img/img_lab/add_mot.PNG" alt="">
					</li>
					<li>
						Finally, Click on Big start button and that will flash the binary.<br>
						<img class="modal-thumbnails" src="img/img_lab/Flash_start.gif" alt="">
					</li>
					<li>
						Disconnect E2Lite and add Batteries. All done! This should Restore the board to it's old version.
					</li>
				</ol>
			</p>
		</details>

		<!-- Prepare the pages modal images-->
		<script>lab_templater.Prepare_modal();</script>

		<!-- Button for going to the next page-->
		<script>lab_templater.Generate_next_page_button("Finished!");</script>

	</div>
</body>

</html>
